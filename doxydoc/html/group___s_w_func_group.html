<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Livello Serbatoio: SW Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Livello Serbatoio<span id="projectnumber">&#160;v0.13</span>
   </div>
   <div id="projectbrief">This project realizes a simple device to monitor the water level in a tank.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">SW Functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae4f64d442b0662cc64fe56632b84e33d" id="r_gae4f64d442b0662cc64fe56632b84e33d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae4f64d442b0662cc64fe56632b84e33d">compare_float</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> x, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> y, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> th)</td></tr>
<tr class="memdesc:gae4f64d442b0662cc64fe56632b84e33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if two float values are equal.  <br /></td></tr>
<tr class="separator:gae4f64d442b0662cc64fe56632b84e33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafee69d5c8338bc50434f77ab40d9a07a" id="r_gafee69d5c8338bc50434f77ab40d9a07a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafee69d5c8338bc50434f77ab40d9a07a">round_float_value</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> x)</td></tr>
<tr class="memdesc:gafee69d5c8338bc50434f77ab40d9a07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round the given float value to the nearest integer.  <br /></td></tr>
<tr class="separator:gafee69d5c8338bc50434f77ab40d9a07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9efe22aaead3a5e936b5df459de02eba" id="r_ga9efe22aaead3a5e936b5df459de02eba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9efe22aaead3a5e936b5df459de02eba">initialize</a> (void)</td></tr>
<tr class="memdesc:ga9efe22aaead3a5e936b5df459de02eba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all variables.  <br /></td></tr>
<tr class="separator:ga9efe22aaead3a5e936b5df459de02eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace60a2bdb50a596a73ab178fd583f791" id="r_gace60a2bdb50a596a73ab178fd583f791"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gace60a2bdb50a596a73ab178fd583f791">compute_liters</a> (<a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> read_distance)</td></tr>
<tr class="memdesc:gace60a2bdb50a596a73ab178fd583f791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the volume of water in the tank.  <br /></td></tr>
<tr class="separator:gace60a2bdb50a596a73ab178fd583f791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bfa47fe6bd441f0071767a7687be662" id="r_ga4bfa47fe6bd441f0071767a7687be662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4bfa47fe6bd441f0071767a7687be662">compute_percentage</a> (<a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> read_liters)</td></tr>
<tr class="memdesc:ga4bfa47fe6bd441f0071767a7687be662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the percentage of filling of the tank.  <br /></td></tr>
<tr class="separator:ga4bfa47fe6bd441f0071767a7687be662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9967fba0c00894bea58ba14fb08316a" id="r_gae9967fba0c00894bea58ba14fb08316a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae9967fba0c00894bea58ba14fb08316a">turn_on_lcd_light</a> (void)</td></tr>
<tr class="memdesc:gae9967fba0c00894bea58ba14fb08316a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on the LCD backlight.  <br /></td></tr>
<tr class="separator:gae9967fba0c00894bea58ba14fb08316a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae363cdd97b2641eb7b4e1230d0d2243c" id="r_gae363cdd97b2641eb7b4e1230d0d2243c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae363cdd97b2641eb7b4e1230d0d2243c">turn_off_lcd_light</a> (void)</td></tr>
<tr class="memdesc:gae363cdd97b2641eb7b4e1230d0d2243c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off the LCD backlight.  <br /></td></tr>
<tr class="separator:gae363cdd97b2641eb7b4e1230d0d2243c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3df3c74a3500c4195723464a8fdbb282" id="r_ga3df3c74a3500c4195723464a8fdbb282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3df3c74a3500c4195723464a8fdbb282">print_error</a> (void)</td></tr>
<tr class="memdesc:ga3df3c74a3500c4195723464a8fdbb282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints an error message to LCD if not in debug mode.  <br /></td></tr>
<tr class="separator:ga3df3c74a3500c4195723464a8fdbb282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f9980d6c680584ee62e2f86c2a9b669" id="r_ga5f9980d6c680584ee62e2f86c2a9b669"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5f9980d6c680584ee62e2f86c2a9b669">show_err_code_debug</a> (void)</td></tr>
<tr class="memdesc:ga5f9980d6c680584ee62e2f86c2a9b669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows the current error code to LCD (only in debug mode).  <br /></td></tr>
<tr class="separator:ga5f9980d6c680584ee62e2f86c2a9b669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1197f9593469f27d790fdb7492f12a9" id="r_gad1197f9593469f27d790fdb7492f12a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1197f9593469f27d790fdb7492f12a9">update_lcd_debug</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> distance_to_print)</td></tr>
<tr class="memdesc:gad1197f9593469f27d790fdb7492f12a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the LCD.  <br /></td></tr>
<tr class="separator:gad1197f9593469f27d790fdb7492f12a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ba15160a850c9bd6ba16e456327b0b9" id="r_ga1ba15160a850c9bd6ba16e456327b0b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1ba15160a850c9bd6ba16e456327b0b9">monitorReadings</a> (void)</td></tr>
<tr class="separator:ga1ba15160a850c9bd6ba16e456327b0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78f21a8bc3ef0c3002c97519702ffb7a" id="r_ga78f21a8bc3ef0c3002c97519702ffb7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga78f21a8bc3ef0c3002c97519702ffb7a">measure_level</a> (void)</td></tr>
<tr class="memdesc:ga78f21a8bc3ef0c3002c97519702ffb7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a measurement of water level.  <br /></td></tr>
<tr class="separator:ga78f21a8bc3ef0c3002c97519702ffb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf071d40d3c9798d5dd70cff1ad7959a6" id="r_gaf071d40d3c9798d5dd70cff1ad7959a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf071d40d3c9798d5dd70cff1ad7959a6">control_led</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> water_percentage)</td></tr>
<tr class="memdesc:gaf071d40d3c9798d5dd70cff1ad7959a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the LED status depending on water level.  <br /></td></tr>
<tr class="separator:gaf071d40d3c9798d5dd70cff1ad7959a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54de534b874f0865138c079040b58b2f" id="r_ga54de534b874f0865138c079040b58b2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga54de534b874f0865138c079040b58b2f">sanitize_data</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> data, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> min_val, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> max_val, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> min_threshold, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> max_threshold)</td></tr>
<tr class="memdesc:ga54de534b874f0865138c079040b58b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanitizes the input value and contraints it in specified valid range.  <br /></td></tr>
<tr class="separator:ga54de534b874f0865138c079040b58b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa909e2a9025a41f8b4377900b184231a" id="r_gaa909e2a9025a41f8b4377900b184231a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa909e2a9025a41f8b4377900b184231a">update_lcd</a> (const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> water_percentage, const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> liters)</td></tr>
<tr class="memdesc:gaa909e2a9025a41f8b4377900b184231a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the LCD with the actual parameters if needed.  <br /></td></tr>
<tr class="separator:gaa909e2a9025a41f8b4377900b184231a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71f8aa56b75f877488fe79626ebf8609" id="r_ga71f8aa56b75f877488fe79626ebf8609"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga71f8aa56b75f877488fe79626ebf8609">autotest</a> (void)</td></tr>
<tr class="memdesc:ga71f8aa56b75f877488fe79626ebf8609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an autotest of LCD and LED.  <br /></td></tr>
<tr class="separator:ga71f8aa56b75f877488fe79626ebf8609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14a43abebbd97dfb4802f30b9cb729c9" id="r_ga14a43abebbd97dfb4802f30b9cb729c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga14a43abebbd97dfb4802f30b9cb729c9">print_stat</a> (String str, const uint32_t stat)</td></tr>
<tr class="memdesc:ga14a43abebbd97dfb4802f30b9cb729c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints on LCD the consumption statistic passed.  <br /></td></tr>
<tr class="separator:ga14a43abebbd97dfb4802f30b9cb729c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab66a54d0e499ddbca17b3c87d8d953ab" id="r_gab66a54d0e499ddbca17b3c87d8d953ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab66a54d0e499ddbca17b3c87d8d953ab">show_version</a> (void)</td></tr>
<tr class="memdesc:gab66a54d0e499ddbca17b3c87d8d953ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the SW version on LCD.  <br /></td></tr>
<tr class="separator:gab66a54d0e499ddbca17b3c87d8d953ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f501759dd8f074e365f1e67a1385769" id="r_ga3f501759dd8f074e365f1e67a1385769"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f501759dd8f074e365f1e67a1385769">show_params</a> (void)</td></tr>
<tr class="memdesc:ga3f501759dd8f074e365f1e67a1385769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the tank parameters (diameter, number of tanks, max water heigh, max total capacity).  <br /></td></tr>
<tr class="separator:ga3f501759dd8f074e365f1e67a1385769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1af6cb252624a99b9d5314919165418" id="r_gad1af6cb252624a99b9d5314919165418"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1af6cb252624a99b9d5314919165418">show_stats</a> (void)</td></tr>
<tr class="memdesc:gad1af6cb252624a99b9d5314919165418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints on LCD all the statistics.  <br /></td></tr>
<tr class="separator:gad1af6cb252624a99b9d5314919165418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cb0d67c7f93bcce28756e3e110d6ace" id="r_ga6cb0d67c7f93bcce28756e3e110d6ace"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6cb0d67c7f93bcce28756e3e110d6ace">enter_debug</a> (void)</td></tr>
<tr class="memdesc:ga6cb0d67c7f93bcce28756e3e110d6ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes operative mode to DEBUG.  <br /></td></tr>
<tr class="separator:ga6cb0d67c7f93bcce28756e3e110d6ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7114bf6b1d0382907123631a3cd13b5c" id="r_ga7114bf6b1d0382907123631a3cd13b5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7114bf6b1d0382907123631a3cd13b5c">exit_debug</a> (void)</td></tr>
<tr class="memdesc:ga7114bf6b1d0382907123631a3cd13b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes operative mode to NORMAL.  <br /></td></tr>
<tr class="separator:ga7114bf6b1d0382907123631a3cd13b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91845db684be01d04446a67696de4eea" id="r_ga91845db684be01d04446a67696de4eea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga91845db684be01d04446a67696de4eea">button_interval_6_handle</a> (void)</td></tr>
<tr class="memdesc:ga91845db684be01d04446a67696de4eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for sixth menu slot.  <br /></td></tr>
<tr class="separator:ga91845db684be01d04446a67696de4eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga308a00c1dcdf78b03ab592ce8aa4f14e" id="r_ga308a00c1dcdf78b03ab592ce8aa4f14e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga308a00c1dcdf78b03ab592ce8aa4f14e">button_interval_5_handle</a> (void)</td></tr>
<tr class="memdesc:ga308a00c1dcdf78b03ab592ce8aa4f14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for fifth menu slot.  <br /></td></tr>
<tr class="separator:ga308a00c1dcdf78b03ab592ce8aa4f14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5983823c490e8a8d921d1f5238d6aaa" id="r_gaf5983823c490e8a8d921d1f5238d6aaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf5983823c490e8a8d921d1f5238d6aaa">button_interval_4_handle</a> (void)</td></tr>
<tr class="memdesc:gaf5983823c490e8a8d921d1f5238d6aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for fourth menu slot.  <br /></td></tr>
<tr class="separator:gaf5983823c490e8a8d921d1f5238d6aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf8e31a102e81cec071dcedef626773f" id="r_gacf8e31a102e81cec071dcedef626773f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacf8e31a102e81cec071dcedef626773f">button_interval_3_handle</a> (void)</td></tr>
<tr class="memdesc:gacf8e31a102e81cec071dcedef626773f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for third menu slot.  <br /></td></tr>
<tr class="separator:gacf8e31a102e81cec071dcedef626773f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab60fffd669059c59539ad1013070e29e" id="r_gab60fffd669059c59539ad1013070e29e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab60fffd669059c59539ad1013070e29e">button_interval_2_handle</a> (void)</td></tr>
<tr class="memdesc:gab60fffd669059c59539ad1013070e29e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for second menu slot.  <br /></td></tr>
<tr class="separator:gab60fffd669059c59539ad1013070e29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff4ae8558fccbf5c309f7a0fa0d00a45" id="r_gaff4ae8558fccbf5c309f7a0fa0d00a45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaff4ae8558fccbf5c309f7a0fa0d00a45">button_interval_1_handle</a> (void)</td></tr>
<tr class="memdesc:gaff4ae8558fccbf5c309f7a0fa0d00a45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actions for first menu slot.  <br /></td></tr>
<tr class="separator:gaff4ae8558fccbf5c309f7a0fa0d00a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga450b00f7bd37a50217f930138444c6c3" id="r_ga450b00f7bd37a50217f930138444c6c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga450b00f7bd37a50217f930138444c6c3">show_menu_options</a> (const uint32_t btn_press_time)</td></tr>
<tr class="memdesc:ga450b00f7bd37a50217f930138444c6c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints on LCD the menu options based on button press time.  <br /></td></tr>
<tr class="separator:ga450b00f7bd37a50217f930138444c6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga493a333002def57ac6f01845e9d3cf8a" id="r_ga493a333002def57ac6f01845e9d3cf8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga493a333002def57ac6f01845e9d3cf8a">do_menu_actions</a> (const uint32_t btn_press_time)</td></tr>
<tr class="memdesc:ga493a333002def57ac6f01845e9d3cf8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the menu associated actions based on button press time.  <br /></td></tr>
<tr class="separator:ga493a333002def57ac6f01845e9d3cf8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63eee1903356c0a903bb01a595c4250b" id="r_ga63eee1903356c0a903bb01a595c4250b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga63eee1903356c0a903bb01a595c4250b">manage_button</a> (void)</td></tr>
<tr class="memdesc:ga63eee1903356c0a903bb01a595c4250b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the button events.  <br /></td></tr>
<tr class="separator:ga63eee1903356c0a903bb01a595c4250b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga71f8aa56b75f877488fe79626ebf8609" name="ga71f8aa56b75f877488fe79626ebf8609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71f8aa56b75f877488fe79626ebf8609">&#9670;&#160;</a></span>autotest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void autotest </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes an autotest of LCD and LED. </p>

</div>
</div>
<a id="gaff4ae8558fccbf5c309f7a0fa0d00a45" name="gaff4ae8558fccbf5c309f7a0fa0d00a45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff4ae8558fccbf5c309f7a0fa0d00a45">&#9670;&#160;</a></span>button_interval_1_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_1_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for first menu slot. </p>

</div>
</div>
<a id="gab60fffd669059c59539ad1013070e29e" name="gab60fffd669059c59539ad1013070e29e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab60fffd669059c59539ad1013070e29e">&#9670;&#160;</a></span>button_interval_2_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_2_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for second menu slot. </p>

</div>
</div>
<a id="gacf8e31a102e81cec071dcedef626773f" name="gacf8e31a102e81cec071dcedef626773f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf8e31a102e81cec071dcedef626773f">&#9670;&#160;</a></span>button_interval_3_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_3_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for third menu slot. </p>

</div>
</div>
<a id="gaf5983823c490e8a8d921d1f5238d6aaa" name="gaf5983823c490e8a8d921d1f5238d6aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5983823c490e8a8d921d1f5238d6aaa">&#9670;&#160;</a></span>button_interval_4_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_4_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for fourth menu slot. </p>

</div>
</div>
<a id="ga308a00c1dcdf78b03ab592ce8aa4f14e" name="ga308a00c1dcdf78b03ab592ce8aa4f14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga308a00c1dcdf78b03ab592ce8aa4f14e">&#9670;&#160;</a></span>button_interval_5_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_5_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for fifth menu slot. </p>

</div>
</div>
<a id="ga91845db684be01d04446a67696de4eea" name="ga91845db684be01d04446a67696de4eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91845db684be01d04446a67696de4eea">&#9670;&#160;</a></span>button_interval_6_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void button_interval_6_handle </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actions for sixth menu slot. </p>

</div>
</div>
<a id="gae4f64d442b0662cc64fe56632b84e33d" name="gae4f64d442b0662cc64fe56632b84e33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4f64d442b0662cc64fe56632b84e33d">&#9670;&#160;</a></span>compare_float()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t compare_float </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>th</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if two float values are equal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The first value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The second value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">th</td><td>The threshold.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if different, 1 if equal (distance between #x and #y is below #th). </dd></dl>

</div>
</div>
<a id="gace60a2bdb50a596a73ab178fd583f791" name="gace60a2bdb50a596a73ab178fd583f791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace60a2bdb50a596a73ab178fd583f791">&#9670;&#160;</a></span>compute_liters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> compute_liters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>read_distance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the volume of water in the tank. </p>
<p>See below for details on computation.</p>
<pre>
           sensor
      +----| W |----+ ---  TANK_HEIGHT_CM
      |      |      |    } 
      |  (distance) |    &gt; SENSOR_DISTANCE_CM
      |      |      |    }
   ----------------------&gt; WATER_MAX_HEIGHT_CM
      |      |      |
      |      V      |   
   ----------------------&gt; current water level
      |             |      
      |             |
   ----------------------&gt; level 0

  real distance = distance - SENSOR_DISTANCE_CM
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_distance</td><td>The water distance from sensor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The volume in liters. </dd></dl>

</div>
</div>
<a id="ga4bfa47fe6bd441f0071767a7687be662" name="ga4bfa47fe6bd441f0071767a7687be662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bfa47fe6bd441f0071767a7687be662">&#9670;&#160;</a></span>compute_percentage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> compute_percentage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>read_liters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the percentage of filling of the tank. </p>
<p>It uses the most recent reading and the maximum capacity computed in <a class="el" href="group___arduino_func_group.html#ga7dfd9b79bc5a37d7df40207afbc5431f" title="Setup function (executed once).">setup</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_liters</td><td>The volume of water read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The filling percentage in range [0, 100]. </dd></dl>

</div>
</div>
<a id="gaf071d40d3c9798d5dd70cff1ad7959a6" name="gaf071d40d3c9798d5dd70cff1ad7959a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf071d40d3c9798d5dd70cff1ad7959a6">&#9670;&#160;</a></span>control_led()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void control_led </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>water_percentage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Controls the LED status depending on water level. </p>
<p>If the tank filling is under LOW_LEVEL_THRESHOLD but over EMPTY_LEVEL_THRESHOLD turns on the LED. If the tank filling is under EMPTY_LEVEL_THRESHOLD makes the LED to blink. In all other cases the LED is off.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">water_percentage</td><td>The percentage of filling of the tank (in range [0, 100]). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga493a333002def57ac6f01845e9d3cf8a" name="ga493a333002def57ac6f01845e9d3cf8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga493a333002def57ac6f01845e9d3cf8a">&#9670;&#160;</a></span>do_menu_actions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void do_menu_actions </td>
          <td>(</td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>btn_press_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the menu associated actions based on button press time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">btn_press_time</td><td>Time since button is kept pressed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6cb0d67c7f93bcce28756e3e110d6ace" name="ga6cb0d67c7f93bcce28756e3e110d6ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6cb0d67c7f93bcce28756e3e110d6ace">&#9670;&#160;</a></span>enter_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void enter_debug </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes operative mode to DEBUG. </p>

</div>
</div>
<a id="ga7114bf6b1d0382907123631a3cd13b5c" name="ga7114bf6b1d0382907123631a3cd13b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7114bf6b1d0382907123631a3cd13b5c">&#9670;&#160;</a></span>exit_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void exit_debug </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes operative mode to NORMAL. </p>

</div>
</div>
<a id="ga9efe22aaead3a5e936b5df459de02eba" name="ga9efe22aaead3a5e936b5df459de02eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9efe22aaead3a5e936b5df459de02eba">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void initialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes all variables. </p>

</div>
</div>
<a id="ga63eee1903356c0a903bb01a595c4250b" name="ga63eee1903356c0a903bb01a595c4250b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63eee1903356c0a903bb01a595c4250b">&#9670;&#160;</a></span>manage_button()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void manage_button </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manages the button events. </p>

</div>
</div>
<a id="ga78f21a8bc3ef0c3002c97519702ffb7a" name="ga78f21a8bc3ef0c3002c97519702ffb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78f21a8bc3ef0c3002c97519702ffb7a">&#9670;&#160;</a></span>measure_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> measure_level </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a measurement of water level. </p>
<p>Activates the ultrasonic sensor and applies the needed corrections (e.g. calibration).</p>
<dl class="section return"><dt>Returns</dt><dd>The distance from water in centimeters or -1 in case of errors. </dd></dl>

</div>
</div>
<a id="ga1ba15160a850c9bd6ba16e456327b0b9" name="ga1ba15160a850c9bd6ba16e456327b0b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ba15160a850c9bd6ba16e456327b0b9">&#9670;&#160;</a></span>monitorReadings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void monitorReadings </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3df3c74a3500c4195723464a8fdbb282" name="ga3df3c74a3500c4195723464a8fdbb282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3df3c74a3500c4195723464a8fdbb282">&#9670;&#160;</a></span>print_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_error </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints an error message to LCD if not in debug mode. </p>

</div>
</div>
<a id="ga14a43abebbd97dfb4802f30b9cb729c9" name="ga14a43abebbd97dfb4802f30b9cb729c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14a43abebbd97dfb4802f30b9cb729c9">&#9670;&#160;</a></span>print_stat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_stat </td>
          <td>(</td>
          <td class="paramtype">String</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>stat</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints on LCD the consumption statistic passed. </p>
<p>Follows the format: </p><pre>
 |----------------| 
 |&lt;      str     &gt;|
 |Tot. &lt;stat&gt;   L |
 |----------------|
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>The statistic title. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stat</td><td>The statistic value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafee69d5c8338bc50434f77ab40d9a07a" name="gafee69d5c8338bc50434f77ab40d9a07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafee69d5c8338bc50434f77ab40d9a07a">&#9670;&#160;</a></span>round_float_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t round_float_value </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Round the given float value to the nearest integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The rounded integer value. </dd></dl>

</div>
</div>
<a id="ga54de534b874f0865138c079040b58b2f" name="ga54de534b874f0865138c079040b58b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54de534b874f0865138c079040b58b2f">&#9670;&#160;</a></span>sanitize_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a> sanitize_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>min_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>max_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>min_threshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>max_threshold</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sanitizes the input value and contraints it in specified valid range. </p>
<p>If #data is under #min_threshold it returns #min_val. If #data is over #max_threshold it returns #max_val. If in range it returns #data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The value to be sanitized. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_val</td><td>The minimum value in the admissible range. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_val</td><td>The maximum value in the admissible range. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_threshold</td><td>The lowest threshold value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_threshold</td><td>The highest threshold value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value in range [#min_val, #max_val]. </dd></dl>

</div>
</div>
<a id="ga5f9980d6c680584ee62e2f86c2a9b669" name="ga5f9980d6c680584ee62e2f86c2a9b669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f9980d6c680584ee62e2f86c2a9b669">&#9670;&#160;</a></span>show_err_code_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void show_err_code_debug </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shows the current error code to LCD (only in debug mode). </p>
<p>Implemented layout: </p><pre>
         |----------------|
         |XXXXXXXXXXX e:XX|
         |XXXXXXXXXXXXXXXX|
         |----------------|
</pre> 
</div>
</div>
<a id="ga450b00f7bd37a50217f930138444c6c3" name="ga450b00f7bd37a50217f930138444c6c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga450b00f7bd37a50217f930138444c6c3">&#9670;&#160;</a></span>show_menu_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void show_menu_options </td>
          <td>(</td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>btn_press_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints on LCD the menu options based on button press time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">btn_press_time</td><td>Time since button is kept pressed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3f501759dd8f074e365f1e67a1385769" name="ga3f501759dd8f074e365f1e67a1385769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f501759dd8f074e365f1e67a1385769">&#9670;&#160;</a></span>show_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void show_params </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the tank parameters (diameter, number of tanks, max water heigh, max total capacity). </p>
<p>Follows the format: </p><pre>
 |----------------| 
 |D:xxxxx N:xx    |
 |H:xxxxx C:xxxxx |
 |----------------|
</pre> 
</div>
</div>
<a id="gad1af6cb252624a99b9d5314919165418" name="gad1af6cb252624a99b9d5314919165418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1af6cb252624a99b9d5314919165418">&#9670;&#160;</a></span>show_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void show_stats </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints on LCD all the statistics. </p>
<p>Prints consumptions since:</p><ul>
<li>1 hour;</li>
<li>12 hours;</li>
<li>1 day;</li>
<li>3 days. </li>
</ul>

</div>
</div>
<a id="gab66a54d0e499ddbca17b3c87d8d953ab" name="gab66a54d0e499ddbca17b3c87d8d953ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab66a54d0e499ddbca17b3c87d8d953ab">&#9670;&#160;</a></span>show_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void show_version </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the SW version on LCD. </p>
<p>Follows the format: </p><pre>
 |----------------| 
 | Versione:      |
 | &lt;num_version&gt;  |
 |----------------|
</pre> 
</div>
</div>
<a id="gae363cdd97b2641eb7b4e1230d0d2243c" name="gae363cdd97b2641eb7b4e1230d0d2243c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae363cdd97b2641eb7b4e1230d0d2243c">&#9670;&#160;</a></span>turn_off_lcd_light()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void turn_off_lcd_light </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns off the LCD backlight. </p>
<p>Lowers the backlight digital pin. </p>

</div>
</div>
<a id="gae9967fba0c00894bea58ba14fb08316a" name="gae9967fba0c00894bea58ba14fb08316a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9967fba0c00894bea58ba14fb08316a">&#9670;&#160;</a></span>turn_on_lcd_light()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void turn_on_lcd_light </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns on the LCD backlight. </p>
<p>Raises the backlight digital pin and activates the timer to turn off the LCD backlight. </p>

</div>
</div>
<a id="gaa909e2a9025a41f8b4377900b184231a" name="gaa909e2a9025a41f8b4377900b184231a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa909e2a9025a41f8b4377900b184231a">&#9670;&#160;</a></span>update_lcd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update_lcd </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>water_percentage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>liters</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the LCD with the actual parameters if needed. </p>
<p>The data are printed as follows:</p>
<pre>
 |----------------| 
 | xxxx L   yyy % |
 | ############## |
 |----------------|

 ex:
 |----------------| 
 |  876 L    87 % |
 | ############   |
 |----------------|

 |----------------| 
 | xxxx L   yyy % |
 | ##  Riserva    |
 |----------------|

 |----------------| 
 | xxxx L   yyy % |
 |     Vuoto      |
 |----------------|

 &lt;xxxx&gt; = [0, 9999] L
 &lt;yyy&gt; = [0, 100] %
 # X 16 =&gt; 0 = 0%, 16 = 100%
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">water_percentage</td><td>The tank filling percentage. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">liters</td><td>The water volume in liters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad1197f9593469f27d790fdb7492f12a9" name="gad1197f9593469f27d790fdb7492f12a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1197f9593469f27d790fdb7492f12a9">&#9670;&#160;</a></span>update_lcd_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update_lcd_debug </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___types_group.html#gac55f3ae81b5bc9053760baacf57e47f4">float64_t</a></td>          <td class="paramname"><span class="paramname"><em>distance_to_print</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the LCD. </p>
<p>Used only in debug mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">distance_to_print</td><td>The distance from the water in centimeters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
